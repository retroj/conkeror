<?xml version="1.0" encoding="UTF-8"?>
<!--
*************************************************************************************
Spencer Allen
8/11/13
Use, modification, and distribution are subject to the terms specified in the COPYING
file.
*************************************************************************************
-->
<Wix xmlns="http://schemas.microsoft.com/wix/2006/wi">
  <!--Your basic installer information-->
	<Product Id="{73E081D9-8071-4a88-85DA-E3006C7EE198}" Name="Conkeror" Language="1033" Version="1.9.1.0" Manufacturer="http://www.conkeror.org/" UpgradeCode="d966bc99-195c-4693-b154-c53f1f857978">
		<Package InstallerVersion="200" Compressed="yes" InstallScope="perMachine" />
    <Media Id="1" Cabinet="Conkeror" EmbedCab="yes"/>
		<MajorUpgrade DowngradeErrorMessage="A newer version of [ProductName] is already installed." />
    
    <!--Building the feature list that is presented to the users when they customize their install.-->
		<Feature Id="ConkerorFeature" Title="Conkeror" Description="Conkeror is a keyboard-oriented, highly-customizable, highly-extensible web browser based on Mozilla XULRunner." Level="1" Absent="disallow" AllowAdvertise="no" Display="expand" ConfigurableDirectory="INSTALLFOLDER">
			<ComponentGroupRef Id="ConkerorMain" />
      <Feature Id="XulrunnerFeature" Title="Modzilla XULRunner" Description="Modzilla XULRunner 22.0.0.4918 is a requried component of conkeror and must be installed for it to work." Level="1" Absent="disallow" AllowAdvertise="no">
        <ComponentGroupRef Id="XulRunnerMain"/>        
      </Feature>
      
      <!--Listing the optional feature items-->
      <Feature Id="UserContribs" Title="User contributions" Description="Installing this feature will install all of the user contribution source files including those were used to create this installer." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
        <ComponentGroupRef Id="UserContrib"/>
      </Feature>
      <!--.conkerorrc customization-->
      <Feature Id="Conkerorrc" Title=".conkerorrc" Description="These customizations were copied from http://conkeror.org and are only a small subset of the customizations you can make to this application." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent" Display="collapse">
        <Feature Id="New_tabs" Title="Get tabs" Description="Enables the new tabs module." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="New_tabs"/>
        </Feature>
        <Feature Id="Sessions" Title="Enable sessions" Description="See the conkeror wiki page for a discription." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="Sessions"/>
        </Feature>
        <Feature Id="History" Title="History" Description="Have the find-url prompt include history urls in its completions." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="History"/>
        </Feature>
        <Feature Id="History_command" Title="History command" Description="Use seperate commands M-x find-url and M-x find-url-new-buffer to browse history outside the find-url prompt." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="History_command"/>
        </Feature>
        <Feature Id="History_clearing_preference" Title="History clearing preference" Description="Determines how long in days history entries are kept before being automatically expired. The default is seven days." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="History_clearing_preference"/>
        </Feature>
        <Feature Id="Downloads_dir" Title="Downloads directory" Description="The default directory for new downloads will be the downloads directory." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="Downloads_dir"/>
        </Feature>
        <Feature Id="Download_NewBuffer" Title="Buffer downloads" Description="Downloads status will display in a new buffer in the same window." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="Download_NewBuffer"/>
        </Feature>
        <Feature Id="Darken_page" Title="Darken the current page" Description="Allows you to darken the current page with M-x darken-page or C-d." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
          <ComponentRef Id="Darken_page"/>
        </Feature>
        <!--Modifing the mode line-->
        <Feature Id="Mode_Line_widgests" Title="Mode Line widgets" Description="Inside this feature you'll find several options to modify the mode line." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent" Display="collapse">
          <Feature Id="Download_ModLine" Title="Downloads" Description="Enables the downloads status mode line widget." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="Download_ModLine"/>
          </Feature>
          <Feature Id="Favicons" Title="Display favicons" Description="Allows websites the ability to display their favicon in your mode line." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="Favicons"/>
          </Feature>
          <Feature Id="DisableClock" Title="Disable clock" Description="Disables the clock in your mode line." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="DisableClock"/>
          </Feature>
          <Feature Id="ModeLine_Buffers_count" Title="Count buffers" Description="This widget shows how many buffers are in the current window, and which one is currently selected." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="ModeLine_Buffers_count"/>
          </Feature>
          <Feature Id="Loding_count" Title="Count buffers" Description="This widget shows how many buffers are currently loading." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="Loading_count"/>
          </Feature>
          <Feature Id="Remove_scroll" Title="Remove scroll numbers" Description="This will disable the scroll widget which displays the scroll position (#,#)." Level="101" Absent="allow" AllowAdvertise="no" InstallDefault="followParent">
            <ComponentRef Id="Remove_scroll"/>
          </Feature>
        </Feature>
      </Feature>
      <!--end optional feature list-->
      
      <!--Shortcuts for Conkeror-->
      <ComponentRef Id="StartMenuShortcut" />
      <ComponentRef Id="DesktopShortcut" />
    </Feature>
    <!--Customizing the installer UI-->
    <UIRef Id="WixUI_Mondo" />
    <WixVariable Id="WixUILicenseRtf" Value="Source\COPYING.rtf"/>
    <Property Id="LicenseAccepted" Value="1" />
    <Property Id="INSTALLSHORTCUTS" Value="1" />
    <Property Id="WIXUI_EXITDIALOGOPTIONALCHECKBOXTEXT" Value="Launch Conkeror" />
    <Property Id="WIXUI_EXITDIALOGOPTIONALCHECKBOX" Value="1" />
    <Property Id="WIXUI_EXITDIALOGOPTIONALTEXT" Value="Thank you for installing Conkeror. You'll find the install files in your program files directory." />
    <Property Id="WixShellExecTarget" Value="[#conkeror.exe]" />
    <CustomAction Id="LaunchApplication" BinaryKey="WixCA" DllEntry="WixShellExec" Impersonate="yes" />
    <UI Id="MyWixUI_Mondo">
      <Publish Dialog="ExitDialog" Control="Finish" Event="DoAction" Value="LaunchApplication">WIXUI_EXITDIALOGOPTIONALCHECKBOX = 1 and NOT Installed</Publish>
      <UIRef Id="WixUI_ErrorProgressText"/>
    </UI>
    <!--Windows Add Remove programs registry values-->
    <Property Id="ARPHELPLINK">http://www.conkeror.org/FindPage</Property>
    <Property Id="ARPURLINFOABOUT">http://www.conkeror.org/</Property>
    <!--An evil custom property to give us access to the users profile folder-->
    <SetProperty Id="MyUserFolder" Value="[%USERPROFILE]" Before="AppSearch" />
  </Product>

  <!--Building the directory tree-->
	<Fragment>
    <Directory Id="TARGETDIR" Name="SourceDir">
      <Directory Id="ProgramFilesFolder">
        <Directory Id="INSTALLFOLDER" Name="Conkeror">
          <Directory Id="XULRUNNER" Name="xulrunner">
            <Directory Id="DICTIONARIES" Name="dictionaries" />
          </Directory>
          <Directory Id="TESTS" Name="tests">
            <Directory Id="SHELL_NIX" Name="shell-nix" />
            <Directory Id="SIMPLE" Name="simple" />
          </Directory>
          <Directory Id="STYLE" Name="style">
            <Directory Id="MONO" Name="mono" />
            <Directory Id="GESSO" Name="gesso" />
            <Directory Id="DEFAULT" Name="default" />
          </Directory>
          <Directory Id="SEARCH_ENGINES" Name="search-engines" />
          <Directory Id="MODULES" Name="modules">
            <Directory Id="PAGE_MODES" Name="page-modes" />
            <Directory Id="EXTENSIONS" Name="extensions" />
            <Directory Id="BINDINGS" Name="bindings">
              <Directory Id="DEFAULT2" Name="default">
                <Directory Id="CONTENT_BUFFER" Name="content-buffer" />
              </Directory>
            </Directory>
          </Directory>
          <Directory Id="LOCALE" Name="locale">
            <Directory Id="SV_SE" Name="sv-SE" />
            <Directory Id="EN_US" Name="en-US" />
          </Directory>
          <Directory Id="HELP" Name="help"/>
          <Directory Id="DEFAULTS" Name="defaults">
            <Directory Id="PREFERENCES" Name="preferences" />
          </Directory>
          <!--Optional user contributed directories-->
          <Directory Id="DEBIAN" Name="debian">
            <Directory Id="SOURCE" Name="source" />
            <Directory Id="PATCHES" Name="patches" />
            <Directory Id="BIN" Name="bin" />            
          </Directory>
          <Directory Id="CONTRIB" Name="contrib">
            <Directory Id="XREV" Name="xrev">
              <Directory Id="DEFAULTS2" Name="defaults">
                <Directory Id="PREFERENCES2" Name="preferences" />
              </Directory>
              <Directory Id="CONTENT3" Name="content" />
              <Directory Id="CHROME2" Name="chrome" />
            </Directory>
            <Directory Id="WINDOWSINSTALLER" Name="Windows-installer">
              <Directory Id="CONKERORRC" Name="conkerorrc"/>
            </Directory>
            <Directory Id="MODULES2" Name="modules" />
            <Directory Id="MAN" Name="man" />
            <Directory Id="DEBIAN2" Name="debian" />
            <Directory Id="CONFIG" Name="config" />
            <Directory Id="ART" Name="art" />
          </Directory>
          <!--End optional user contributed directories-->
          <Directory Id="CONTENT" Name="content" />
          <Directory Id="COMPONENTS" Name="components" />
          <Directory Id="CHROME" Name="chrome" />
          <Directory Id="BRANDING" Name="branding">
            <Directory Id="CONTENT2" Name="content" />
          </Directory>
        </Directory>
        <!--.conkerorrc-->
        <Directory Id="MyUserFolder">
          <Directory Id="_CONKERORRC" Name=".conkerorrc"/>
        </Directory>
      </Directory>
      <!--Shortcut directories-->
      <Directory Id="ProgramMenuFolder">
        <Directory Id="ApplicationProgramsFolder" Name="Conkeror" />
      </Directory>
      <Directory Id="DesktopFolder" Name="Desktop" />
    </Directory>
	</Fragment>
  
  <!--Listing the components that make up the conkeror feature-->
	<Fragment>
    <!--Conkeror directory-->
		<ComponentGroup Id="ConkerorMain">
      <Component Id="Makefile" Directory="INSTALLFOLDER" Guid="*">
        <File Id="Makefile" Source="Source\Makefile" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="INSTALL" Directory="INSTALLFOLDER" Guid="*">
        <File Id="INSTALL" Source="Source\INSTALL" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="info_plist" Directory="INSTALLFOLDER" Guid="*">
        <File Id="info_plist" Source="Source\info.plist" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="CREDITS" Directory="INSTALLFOLDER" Guid="*">
        <File Id="CREDITS" Source="Source\CREDITS" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="COPYING" Directory="INSTALLFOLDER" Guid="*">
        <File Id="COPYING" Source="Source\COPYING" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="COPYING.rtf" Directory="INSTALLFOLDER" Guid="*">
        <File Id="COPYING.rtf" Source="Source\COPYING.rtf" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_policy_manifest" Directory="INSTALLFOLDER" Guid="*">
        <File Id="content_policy_manifest" Source="Source\content-policy.manifest" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror_spawn_helper_c" Directory="INSTALLFOLDER" Guid="*">
        <File Id="conkeror_spawn_helper_c" Source="Source\conkeror-spawn-helper.c" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.exe" Directory="INSTALLFOLDER" Guid="*">
        <File Id="conkeror.exe" Source="Source\conkeror.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--Componet reference-->
      <ComponentRef Id="conkeror.exe"/>
      <!--Used to lauch conkeror at the end of the install-->
      <Component Id="chrome.manifest" Directory="INSTALLFOLDER" Guid="*">
        <File Id="chrome.manifest" Source="Source\chrome.manifest" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="application.ini" Directory="INSTALLFOLDER" Guid="*">
        <File Id="application.ini" Source="Source\application.ini" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gitignore" Directory="INSTALLFOLDER" Guid="*">
        <File Id="gitignore" Source="Source\.gitignore" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--tests\simple folder-->
      <Component Id="xpath_webjump_test.xhtml" Directory="SIMPLE" Guid="*">
        <File Id="xpath_webjump_test.xhtml" Source="Source\tests\simple\xpath-webjump-test.xhtml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="webjump.js" Directory="SIMPLE" Guid="*">
        <File Id="webjump.js" Source="Source\tests\simple\webjump.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="walnut.js" Directory="SIMPLE" Guid="*">
        <File Id="walnut.js" Source="Source\tests\simple\walnut.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="utils.js" Directory="SIMPLE" Guid="*">
        <File Id="utils.js" Source="Source\tests\simple\utils.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="uri.js" Directory="SIMPLE" Guid="*">
        <File Id="uri.js" Source="Source\tests\simple\uri.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="theme.js" Directory="SIMPLE" Guid="*">
        <File Id="theme.js" Source="Source\tests\simple\theme.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="suggest_file_name.js" Directory="SIMPLE" Guid="*">
        <File Id="suggest_file_name.js" Source="Source\tests\simple\suggest-file-name.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="page_mode_activation.js" Directory="SIMPLE" Guid="*">
        <File Id="page_mode_activation.js" Source="Source\tests\simple\page-mode-activation.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="modules.js" Directory="SIMPLE" Guid="*">
        <File Id="modules.js" Source="Source\tests\simple\modules.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mime.js" Directory="SIMPLE" Guid="*">
        <File Id="mime.js" Source="Source\tests\simple\mime.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="keymap.js" Directory="SIMPLE" Guid="*">
        <File Id="keymap.js" Source="Source\tests\simple\keymap.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="interactive.js" Directory="SIMPLE" Guid="*">
        <File Id="interactive.js" Source="Source\tests\simple\interactive.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="index_webjump.js" Directory="SIMPLE" Guid="*">
        <File Id="index_webjump.js" Source="Source\tests\simple\index-webjump.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="hook.js" Directory="SIMPLE" Guid="*">
        <File Id="hook.js" Source="Source\tests\simple\hook.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gitweb_webjump_test.opml" Directory="SIMPLE" Guid="*">
        <File Id="gitweb_webjump_test.opml" Source="Source\tests\simple\gitweb-webjump-test.opml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="external_filename.js" Directory="SIMPLE" Guid="*">
        <File Id="external_filename.js" Source="Source\tests\simple\external-filename.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="client_redirect.js" Directory="SIMPLE" Guid="*">
        <File Id="client_redirect.js" Source="Source\tests\simple\client-redirect.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="casual_spelling.js" Directory="SIMPLE" Guid="*">
        <File Id="casual_spelling.js" Source="Source\tests\simple\casual-spelling.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--test\shell-nix folder-->
      <Component Id="commandline.sh" Directory="SHELL_NIX" Guid="*">
        <File Id="commandline.sh" Source="Source\tests\shell-nix\commandline.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--style\mono folder-->
      <Component Id="theme.json" Directory="MONO" Guid="*">
        <File Id="theme.json" Source="Source\style\mono\theme.json" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror__mono.css" Directory="MONO" Guid="*">
        <File Id="conkeror__mono.css" Source="Source\style\mono\conkeror--mono.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--style\gesso folder-->
      <Component Id="theme2.json" Directory="GESSO" Guid="*">
        <File Id="theme2.json" Source="Source\style\gesso\theme.json" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="tab_bar__gesso.css" Directory="GESSO" Guid="*">
        <File Id="tab_bar__gesso.css" Source="Source\style\gesso\tab-bar--gesso.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="new_tabs__gesso.css" Directory="GESSO" Guid="*">
        <File Id="new_tabs__gesso.css" Source="Source\style\gesso\new-tabs--gesso.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mode_line__gesso.css" Directory="GESSO" Guid="*">
        <File Id="mode_line__gesso.css" Source="Source\style\gesso\mode-line--gesso.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--style\default folder-->
      <Component Id="window__panel.css" Directory="DEFAULT" Guid="*">
        <File Id="window__panel.css" Source="Source\style\default\window--panel.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="theme3.json" Directory="DEFAULT" Guid="*">
        <File Id="theme3.json" Source="Source\style\default\theme.json" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="tab_bar.css" Directory="DEFAULT" Guid="*">
        <File Id="tab_bar.css" Source="Source\style\default\tab-bar.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="new_tabs.css" Directory="DEFAULT" Guid="*">
        <File Id="new_tabs.css" Source="Source\style\default\new-tabs.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mode_line.css" Directory="DEFAULT" Guid="*">
        <File Id="mode_line.css" Source="Source\style\default\mode-line.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer.css2" Directory="DEFAULT" Guid="*">
        <File Id="minibuffer.css2" Source="Source\style\default\minibuffer.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="eye_guide.css" Directory="DEFAULT" Guid="*">
        <File Id="eye_guide.css" Source="Source\style\default\eye-guide.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_buffer_input.css" Directory="DEFAULT" Guid="*">
        <File Id="content_buffer_input.css" Source="Source\style\default\content-buffer-input.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--search-engines folder-->
      <Component Id="yahoo.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="yahoo.xml" Source="Source\search-engines\yahoo.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="wiktionary.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="wiktionary.xml" Source="Source\search-engines\wiktionary.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="wikipedia.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="wikipedia.xml" Source="Source\search-engines\wikipedia.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mozilla_bugzilla.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="mozilla_bugzilla.xml" Source="Source\search-engines\mozilla-bugzilla.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="google.xml" Source="Source\search-engines\google.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="eBay.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="eBay.xml" Source="Source\search-engines\eBay.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="duckduckgo.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="duckduckgo.xml" Source="Source\search-engines\duckduckgo.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="creativecommons.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="creativecommons.xml" Source="Source\search-engines\creativecommons.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="answers.xml" Directory="SEARCH_ENGINES" Guid="*">
        <File Id="answers.xml" Source="Source\search-engines\answers.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--modules folder-->
      <Component Id="zoom.js" Directory="MODULES" Guid="*">
        <File Id="zoom.js" Source="Source\modules\zoom.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="window.js" Directory="MODULES" Guid="*">
        <File Id="window.js" Source="Source\modules\window.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="webjump.js2" Directory="MODULES" Guid="*">
        <File Id="webjump.js2" Source="Source\modules\webjump.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="walnut.js2" Directory="MODULES" Guid="*">
        <File Id="walnut.js2" Source="Source\modules\walnut.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="utils.js2" Directory="MODULES" Guid="*">
        <File Id="utils.js2" Source="Source\modules\utils.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="user_variable.js" Directory="MODULES" Guid="*">
        <File Id="user_variable.js" Source="Source\modules\user-variable.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="user_agent.js" Directory="MODULES" Guid="*">
        <File Id="user_agent.js" Source="Source\modules\user-agent.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="universal_argument.js" Directory="MODULES" Guid="*">
        <File Id="universal_argument.js" Source="Source\modules\universal-argument.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="timer.js" Directory="MODULES" Guid="*">
        <File Id="timer.js" Source="Source\modules\timer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="theme.js2" Directory="MODULES" Guid="*">
        <File Id="theme.js2" Source="Source\modules\theme.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="text.js" Directory="MODULES" Guid="*">
        <File Id="text.js" Source="Source\modules\text.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="tab_bar.js" Directory="MODULES" Guid="*">
        <File Id="tab_bar.js" Source="Source\modules\tab-bar.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="suggest_file_name.js2" Directory="MODULES" Guid="*">
        <File Id="suggest_file_name.js2" Source="Source\modules\suggest-file-name.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="stylesheet.js" Directory="MODULES" Guid="*">
        <File Id="stylesheet.js" Source="Source\modules\stylesheet.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="string.js" Directory="MODULES" Guid="*">
        <File Id="string.js" Source="Source\modules\string.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="ssl.js" Directory="MODULES" Guid="*">
        <File Id="ssl.js" Source="Source\modules\ssl.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="special_buffer.js" Directory="MODULES" Guid="*">
        <File Id="special_buffer.js" Source="Source\modules\special-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="spawn_process.js" Directory="MODULES" Guid="*">
        <File Id="spawn_process.js" Source="Source\modules\spawn-process.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="source_code.js" Directory="MODULES" Guid="*">
        <File Id="source_code.js" Source="Source\modules\source-code.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="session.js" Directory="MODULES" Guid="*">
        <File Id="session.js" Source="Source\modules\session.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="services.js" Directory="MODULES" Guid="*">
        <File Id="services.js" Source="Source\modules\services.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="selectively_unstyle.js" Directory="MODULES" Guid="*">
        <File Id="selectively_unstyle.js" Source="Source\modules\selectively-unstyle.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="scroll.js" Directory="MODULES" Guid="*">
        <File Id="scroll.js" Source="Source\modules\scroll.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="save.js" Directory="MODULES" Guid="*">
        <File Id="save.js" Source="Source\modules\save.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="rc.js" Directory="MODULES" Guid="*">
        <File Id="rc.js" Source="Source\modules\rc.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="quote.js" Directory="MODULES" Guid="*">
        <File Id="quote.js" Source="Source\modules\quote.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="pretty_print.js" Directory="MODULES" Guid="*">
        <File Id="pretty_print.js" Source="Source\modules\pretty-print.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="pref.js" Directory="MODULES" Guid="*">
        <File Id="pref.js" Source="Source\modules\pref.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="permission_manager.js" Directory="MODULES" Guid="*">
        <File Id="permission_manager.js" Source="Source\modules\permission-manager.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="opensearch.js" Directory="MODULES" Guid="*">
        <File Id="opensearch.js" Source="Source\modules\opensearch.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="new_tabs.js" Directory="MODULES" Guid="*">
        <File Id="new_tabs.js" Source="Source\modules\new-tabs.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mode_line.js" Directory="MODULES" Guid="*">
        <File Id="mode_line.js" Source="Source\modules\mode-line.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mode.js" Directory="MODULES" Guid="*">
        <File Id="mode.js" Source="Source\modules\mode.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer_read_option.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer_read_option.js" Source="Source\modules\minibuffer-read-option.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer_read_mime_type.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer_read_mime_type.js" Source="Source\modules\minibuffer-read-mime-type.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer_read_file.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer_read_file.js" Source="Source\modules\minibuffer-read-file.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer_read.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer_read.js" Source="Source\modules\minibuffer-read.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer_completion.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer_completion.js" Source="Source\modules\minibuffer-completion.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer.js" Directory="MODULES" Guid="*">
        <File Id="minibuffer.js" Source="Source\modules\minibuffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mime_type_override.js" Directory="MODULES" Guid="*">
        <File Id="mime_type_override.js" Source="Source\modules\mime-type-override.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mime.js2" Directory="MODULES" Guid="*">
        <File Id="mime.js2" Source="Source\modules\mime.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="media.js" Directory="MODULES" Guid="*">
        <File Id="media.js" Source="Source\modules\media.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="login.js" Directory="MODULES" Guid="*">
        <File Id="login.js" Source="Source\modules\login.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="load_spec.js" Directory="MODULES" Guid="*">
        <File Id="load_spec.js" Source="Source\modules\load-spec.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="labels.js" Directory="MODULES" Guid="*">
        <File Id="labels.js" Source="Source\modules\labels.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="keywords.js" Directory="MODULES" Guid="*">
        <File Id="keywords.js" Source="Source\modules\keywords.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="keymap.js2" Directory="MODULES" Guid="*">
        <File Id="keymap.js2" Source="Source\modules\keymap.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="isearch.js" Directory="MODULES" Guid="*">
        <File Id="isearch.js" Source="Source\modules\isearch.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="io.js" Directory="MODULES" Guid="*">
        <File Id="io.js" Source="Source\modules\io.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="interactive.js2" Directory="MODULES" Guid="*">
        <File Id="interactive.js2" Source="Source\modules\interactive.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="input.js" Directory="MODULES" Guid="*">
        <File Id="input.js" Source="Source\modules\input.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="index_webjump.js2" Directory="MODULES" Guid="*">
        <File Id="index_webjump.js2" Source="Source\modules\index-webjump.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="hook.js2" Directory="MODULES" Guid="*">
        <File Id="hook.js2" Source="Source\modules\hook.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="history.js" Directory="MODULES" Guid="*">
        <File Id="history.js" Source="Source\modules\history.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="hints.js" Directory="MODULES" Guid="*">
        <File Id="hints.js" Source="Source\modules\hints.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="help.js" Directory="MODULES" Guid="*">
        <File Id="help.js" Source="Source\modules\help.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="global_overlay_keymap.js" Directory="MODULES" Guid="*">
        <File Id="global_overlay_keymap.js" Source="Source\modules\global-overlay-keymap.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="formfill.js" Directory="MODULES" Guid="*">
        <File Id="formfill.js" Source="Source\modules\formfill.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="follow_relationship.js" Directory="MODULES" Guid="*">
        <File Id="follow_relationship.js" Source="Source\modules\follow-relationship.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="favicon.js" Directory="MODULES" Guid="*">
        <File Id="favicon.js" Source="Source\modules\favicon.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="eye_guide.js" Directory="MODULES" Guid="*">
        <File Id="eye_guide.js" Source="Source\modules\eye-guide.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="external_editor.js" Directory="MODULES" Guid="*">
        <File Id="external_editor.js" Source="Source\modules\external-editor.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="env.js" Directory="MODULES" Guid="*">
        <File Id="env.js" Source="Source\modules\env.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="element.js" Directory="MODULES" Guid="*">
        <File Id="element.js" Source="Source\modules\element.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="download_manager.js" Directory="MODULES" Guid="*">
        <File Id="download_manager.js" Source="Source\modules\download-manager.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="dom.js" Directory="MODULES" Guid="*">
        <File Id="dom.js" Source="Source\modules\dom.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="debug.js" Directory="MODULES" Guid="*">
        <File Id="debug.js" Source="Source\modules\debug.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="daemon.js" Directory="MODULES" Guid="*">
        <File Id="daemon.js" Source="Source\modules\daemon.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="coroutine.js" Directory="MODULES" Guid="*">
        <File Id="coroutine.js" Source="Source\modules\coroutine.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="cookie.js" Directory="MODULES" Guid="*">
        <File Id="cookie.js" Source="Source\modules\cookie.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_policy.js" Directory="MODULES" Guid="*">
        <File Id="content_policy.js" Source="Source\modules\content-policy.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_handler.js" Directory="MODULES" Guid="*">
        <File Id="content_handler.js" Source="Source\modules\content-handler.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_buffer_input.js" Directory="MODULES" Guid="*">
        <File Id="content_buffer_input.js" Source="Source\modules\content-buffer-input.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_buffer.js" Directory="MODULES" Guid="*">
        <File Id="content_buffer.js" Source="Source\modules\content-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.js" Directory="MODULES" Guid="*">
        <File Id="conkeror.js" Source="Source\modules\conkeror.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="commands.js" Directory="MODULES" Guid="*">
        <File Id="commands.js" Source="Source\modules\commands.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="command_line.js" Directory="MODULES" Guid="*">
        <File Id="command_line.js" Source="Source\modules\command-line.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="client_redirect.jsx" Directory="MODULES" Guid="*">
        <File Id="client_redirect.jsx" Source="Source\modules\client-redirect.jsx" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="clicks_in_new_buffer.js" Directory="MODULES" Guid="*">
        <File Id="clicks_in_new_buffer.js" Source="Source\modules\clicks-in-new-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="casual_spelling.jsx" Directory="MODULES" Guid="*">
        <File Id="casual_spelling.jsx" Source="Source\modules\casual-spelling.jsx" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="caret.js" Directory="MODULES" Guid="*">
        <File Id="caret.js" Source="Source\modules\caret.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="cache.js" Directory="MODULES" Guid="*">
        <File Id="cache.js" Source="Source\modules\cache.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="builtin_commands.js" Directory="MODULES" Guid="*">
        <File Id="builtin_commands.js" Source="Source\modules\builtin-commands.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="buffer.js" Directory="MODULES" Guid="*">
        <File Id="buffer.js" Source="Source\modules\buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="block_content_focus_change.js" Directory="MODULES" Guid="*">
        <File Id="block_content_focus_change.js" Source="Source\modules\block-content-focus-change.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="array.js" Directory="MODULES" Guid="*">
        <File Id="array.js" Source="Source\modules\array.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--modules\page-modes folder-->
      <Component Id="youtube_player.js" Directory="PAGE_MODES" Guid="*">
        <File Id="youtube_player.js" Source="Source\modules\page-modes\youtube-player.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="youtube.js" Directory="PAGE_MODES" Guid="*">
        <File Id="youtube.js" Source="Source\modules\page-modes\youtube.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="xkcd.js" Directory="PAGE_MODES" Guid="*">
        <File Id="xkcd.js" Source="Source\modules\page-modes\xkcd.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="wikipedia.js" Directory="PAGE_MODES" Guid="*">
        <File Id="wikipedia.js" Source="Source\modules\page-modes\wikipedia.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="twitter.js" Directory="PAGE_MODES" Guid="*">
        <File Id="twitter.js" Source="Source\modules\page-modes\twitter.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="stackexchange.js" Directory="PAGE_MODES" Guid="*">
        <File Id="stackexchange.js" Source="Source\modules\page-modes\stackexchange.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="smbc.js" Directory="PAGE_MODES" Guid="*">
        <File Id="smbc.js" Source="Source\modules\page-modes\smbc.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="reddit.js" Directory="PAGE_MODES" Guid="*">
        <File Id="reddit.js" Source="Source\modules\page-modes\reddit.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="newsblur.js" Directory="PAGE_MODES" Guid="*">
        <File Id="newsblur.js" Source="Source\modules\page-modes\newsblur.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="key_kill.js" Directory="PAGE_MODES" Guid="*">
        <File Id="key_kill.js" Source="Source\modules\page-modes\key-kill.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="grooveshark.js" Directory="PAGE_MODES" Guid="*">
        <File Id="grooveshark.js" Source="Source\modules\page-modes\grooveshark.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_voice.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_voice.js" Source="Source\modules\page-modes\google-voice.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_video.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_video.js" Source="Source\modules\page-modes\google-video.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_search_results.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_search_results.js" Source="Source\modules\page-modes\google-search-results.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_reader.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_reader.js" Source="Source\modules\page-modes\google-reader.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_maps.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_maps.js" Source="Source\modules\page-modes\google-maps.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_images.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_images.js" Source="Source\modules\page-modes\google-images.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_gqueues.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_gqueues.js" Source="Source\modules\page-modes\google-gqueues.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="google_calendar.js" Directory="PAGE_MODES" Guid="*">
        <File Id="google_calendar.js" Source="Source\modules\page-modes\google-calendar.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gmane.js" Directory="PAGE_MODES" Guid="*">
        <File Id="gmane.js" Source="Source\modules\page-modes\gmane.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gmail.js" Directory="PAGE_MODES" Guid="*">
        <File Id="gmail.js" Source="Source\modules\page-modes\gmail.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="github.js" Directory="PAGE_MODES" Guid="*">
        <File Id="github.js" Source="Source\modules\page-modes\github.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="facebook.js" Directory="PAGE_MODES" Guid="*">
        <File Id="facebook.js" Source="Source\modules\page-modes\facebook.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="duckduckgo.js" Directory="PAGE_MODES" Guid="*">
        <File Id="duckduckgo.js" Source="Source\modules\page-modes\duckduckgo.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="dailymotion.js" Directory="PAGE_MODES" Guid="*">
        <File Id="dailymotion.js" Source="Source\modules\page-modes\dailymotion.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--modules\extensions folder-->
      <Component Id="venkman.js" Directory="EXTENSIONS" Guid="*">
        <File Id="venkman.js" Source="Source\modules\extensions\venkman.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="noscript.js" Directory="EXTENSIONS" Guid="*">
        <File Id="noscript.js" Source="Source\modules\extensions\noscript.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="dom_inspector.js" Directory="EXTENSIONS" Guid="*">
        <File Id="dom_inspector.js" Source="Source\modules\extensions\dom-inspector.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="adblockplus.js" Directory="EXTENSIONS" Guid="*">
        <File Id="adblockplus.js" Source="Source\modules\extensions\adblockplus.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--modules\bindings\default folder-->
      <Component Id="universal_argument.js2" Directory="DEFAULT2" Guid="*">
        <File Id="universal_argument.js2" Source="Source\modules\bindings\default\universal-argument.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="text.js2" Directory="DEFAULT2" Guid="*">
        <File Id="text.js2" Source="Source\modules\bindings\default\text.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="special_buffer.js2" Directory="DEFAULT2" Guid="*">
        <File Id="special_buffer.js2" Source="Source\modules\bindings\default\special-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="quote.js2" Directory="DEFAULT2" Guid="*">
        <File Id="quote.js2" Source="Source\modules\bindings\default\quote.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer.js2" Directory="DEFAULT2" Guid="*">
        <File Id="minibuffer.js2" Source="Source\modules\bindings\default\minibuffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="isearch.js2" Directory="DEFAULT2" Guid="*">
        <File Id="isearch.js2" Source="Source\modules\bindings\default\isearch.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="hints.js2" Directory="DEFAULT2" Guid="*">
        <File Id="hints.js2" Source="Source\modules\bindings\default\hints.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="help_buffer.js" Directory="DEFAULT2" Guid="*">
        <File Id="help_buffer.js" Source="Source\modules\bindings\default\help-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="global.js" Directory="DEFAULT2" Guid="*">
        <File Id="global.js" Source="Source\modules\bindings\default\global.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="formfill.js2" Directory="DEFAULT2" Guid="*">
        <File Id="formfill.js2" Source="Source\modules\bindings\default\formfill.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="download_buffer.js" Directory="DEFAULT2" Guid="*">
        <File Id="download_buffer.js" Source="Source\modules\bindings\default\download-buffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="caret.js2" Directory="DEFAULT2" Guid="*">
        <File Id="caret.js2" Source="Source\modules\bindings\default\caret.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="bindings.js" Directory="DEFAULT2" Guid="*">
        <File Id="bindings.js" Source="Source\modules\bindings\default\bindings.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="basic_commands.js" Directory="DEFAULT2" Guid="*">
        <File Id="basic_commands.js" Source="Source\modules\bindings\default\basic-commands.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--modules\bindings\default\content-buffer folder-->
      <Component Id="zoom.js2" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="zoom.js2" Source="Source\modules\bindings\default\content-buffer\zoom.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="textarea.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="textarea.js" Source="Source\modules\bindings\default\content-buffer\textarea.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="text.js3" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="text.js3" Source="Source\modules\bindings\default\content-buffer\text.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="select.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="select.js" Source="Source\modules\bindings\default\content-buffer\select.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="richedit.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="richedit.js" Source="Source\modules\bindings\default\content-buffer\richedit.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="normal.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="normal.js" Source="Source\modules\bindings\default\content-buffer\normal.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="form.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="form.js" Source="Source\modules\bindings\default\content-buffer\form.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="embed.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="embed.js" Source="Source\modules\bindings\default\content-buffer\embed.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="element.js3" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="element.js3" Source="Source\modules\bindings\default\content-buffer\element.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="checkbox.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="checkbox.js" Source="Source\modules\bindings\default\content-buffer\checkbox.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="button.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="button.js" Source="Source\modules\bindings\default\content-buffer\button.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="anchor.js" Directory="CONTENT_BUFFER" Guid="*">
        <File Id="anchor.js" Source="Source\modules\bindings\default\content-buffer\anchor.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--locale\sv-SE folder-->
      <Component Id="netErrorApp.dtd" Directory="SV_SE" Guid="*">
        <File Id="netErrorApp.dtd" Source="Source\locale\sv-SE\netErrorApp.dtd" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gui_context_menu.properties" Directory="SV_SE" Guid="*">
        <File Id="gui_context_menu.properties" Source="Source\locale\sv-SE\gui_context_menu.properties" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--locale\en-US folder-->
      <Component Id="netErrorApp.dtd2" Directory="EN_US" Guid="*">
        <File Id="netErrorApp.dtd2" Source="Source\locale\en-US\netErrorApp.dtd" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gui_context_menu.properties2" Directory="EN_US" Guid="*">
        <File Id="gui_context_menu.properties2" Source="Source\locale\en-US\gui_context_menu.properties" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--Help folder-->
      <Component Id="tutorial.html" Directory="HELP" Guid="*">
        <File Id="tutorial.html" Source="Source\help\tutorial.html" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="manual.css" Directory="HELP" Guid="*">
        <File Id="manual.css" Source="Source\help\manual.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="help.html" Directory="HELP" Guid="*">
        <File Id="help.html" Source="Source\help\help.html" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="back_forward.html" Directory="HELP" Guid="*">
        <File Id="back_forward.html" Source="Source\help\back-forward.html" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--defaults\preferences folder-->
      <Component Id="uri.js2" Directory="PREFERENCES" Guid="*">
        <File Id="uri.js2" Source="Source\defaults\preferences\uri.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="prefs.js" Directory="PREFERENCES" Guid="*">
        <File Id="prefs.js" Source="Source\defaults\preferences\prefs.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="javascript_restrictions.js" Directory="PREFERENCES" Guid="*">
        <File Id="javascri_restrictions.js" Source="Source\defaults\preferences\javascript-restrictions.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="history_frecency.js" Directory="PREFERENCES" Guid="*">
        <File Id="history_frecency.js" Source="Source\defaults\preferences\history-frecency.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gui.js" Directory="PREFERENCES" Guid="*">
        <File Id="gui.js" Source="Source\defaults\preferences\gui.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="download_manager.js2" Directory="PREFERENCES" Guid="*">
        <File Id="download_manager.js2" Source="Source\defaults\preferences\download-manager.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="default_modules.js" Directory="PREFERENCES" Guid="*">
        <File Id="default_modules.js" Source="Source\defaults\preferences\default-modules.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="debug.js2" Directory="PREFERENCES" Guid="*">
        <File Id="debug.js2" Source="Source\defaults\preferences\debug.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--content folder-->
      <Component Id="minibuffer_annotation.css" Directory="CONTENT" Guid="*">
        <File Id="minibuffer_annotation.css" Source="Source\content\minibuffer-annotation.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer.xul" Directory="CONTENT" Guid="*">
        <File Id="minibuffer.xul" Source="Source\content\minibuffer.xul" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="minibuffer.css" Directory="CONTENT" Guid="*">
        <File Id="minibuffer.css" Source="Source\content\minibuffer.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="hints.css" Directory="CONTENT" Guid="*">
        <File Id="hints.css" Source="Source\content\hints.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="help.css" Directory="CONTENT" Guid="*">
        <File Id="help.css" Source="Source\content\help.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="downloads.css" Directory="CONTENT" Guid="*">
        <File Id="downloads.css" Source="Source\content\downloads.css" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.xul" Directory="CONTENT" Guid="*">
        <File Id="conkeror.xul" Source="Source\content\conkeror.xul" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="blank.html" Directory="CONTENT" Guid="*">
        <File Id="blank.html" Source="Source\content\blank.html" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="annotated_textbox.xml" Directory="CONTENT" Guid="*">
        <File Id="annotated_textbox.xml" Source="Source\content\annotated-textbox.xml" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--components folder-->
      <Component Id="download_manager_ui.js" Directory="COMPONENTS" Guid="*">
        <File Id="download_manager_ui.js" Source="Source\components\download_manager_ui.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="download_helper.js" Directory="COMPONENTS" Guid="*">
        <File Id="download_helper.js" Source="Source\components\download_helper.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="content_policy.js2" Directory="COMPONENTS" Guid="*">
        <File Id="content_policy.js2" Source="Source\components\content-policy.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="command_line.js2" Directory="COMPONENTS" Guid="*">
        <File Id="command_line.js2" Source="Source\components\command-line.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="application.js" Directory="COMPONENTS" Guid="*">
        <File Id="application.js" Source="Source\components\application.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="_.autoreg" Directory="COMPONENTS" Guid="*">
        <File Id="_.autoreg" Source="Source\components\.autoreg" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--chrome folder-->
      <Component Id="chrome.manifest2" Directory="CHROME" Guid="*">
        <File Id="chrome.manifest2" Source="Source\chrome\chrome.manifest" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--branding folder-->
      <Component Id="brand.properties" Directory="BRANDING" Guid="*">
        <File Id="brand.properties" Source="Source\branding\brand.properties" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="brand.dtd" Directory="BRANDING" Guid="*">
        <File Id="brand.dtd" Source="Source\branding\brand.dtd" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--branding\content folder-->
      <Component Id="about.png" Directory="CONTENT2" Guid="*">
        <File Id="about.png" Source="Source\branding\content\about.png" KeyPath="yes" Checksum="yes"/>
      </Component>      
    </ComponentGroup>
	</Fragment>
  
  <!--Listing the components that make up the xulrunner feature-->
  <Fragment>
    <ComponentGroup Id="XulRunnerMain">
      <!--xulrunner folder-->
      <Component Id="xulrunner_stub.exe" Directory="XULRUNNER" Guid="*">
        <File Id="xulrunner_stub.exe" Source="Source\xulrunner\xulrunner-stub.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="xulrunner.exe" Directory="XULRUNNER" Guid="*">
        <File Id="xulrunner.exe" Source="Source\xulrunner\xulrunner.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="xul.dll" Directory="XULRUNNER" Guid="*">
        <File Id="xul.dll" Source="Source\xulrunner\xul.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="xulupdater.exe" Directory="XULRUNNER" Guid="*">
        <File Id="xulupdater.exe" Source="Source\xulrunner\updater.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="softokn3.dll" Directory="XULRUNNER" Guid="*">
        <File Id="softokn3.dll" Source="Source\xulrunner\softokn3.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="softokn3.chk" Directory="XULRUNNER" Guid="*">
        <File Id="softokn3.chk" Source="Source\xulrunner\softokn3.chk" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="redit.exe" Directory="XULRUNNER" Guid="*">
        <File Id="redit.exe" Source="Source\xulrunner\redit.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="README.xulrunner" Directory="XULRUNNER" Guid="*">
        <File Id="README.xulrunner" Source="Source\xulrunner\README.xulrunner" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="precomplete" Directory="XULRUNNER" Guid="*">
        <File Id="precomplete" Source="Source\xulrunner\precomplete" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="plugin_hang_ui.exe" Directory="XULRUNNER" Guid="*">
        <File Id="plugin_hang_ui.exe" Source="Source\xulrunner\plugin-hang-ui.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="plugin_container.exe" Directory="XULRUNNER" Guid="*">
        <File Id="plugin_container.exe" Source="Source\xulrunner\plugin-container.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="platform.ini" Directory="XULRUNNER" Guid="*">
        <File Id="platform.ini" Source="Source\xulrunner\platform.ini" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="omni.ja" Directory="XULRUNNER" Guid="*">
        <File Id="omni.ja" Source="Source\xulrunner\omni.ja" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nssdbm3.dll" Directory="XULRUNNER" Guid="*">
        <File Id="nssdbm3.dll" Source="Source\xulrunner\nssdbm3.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nssdbm3.chk" Directory="XULRUNNER" Guid="*">
        <File Id="nssdbm3.chk" Source="Source\xulrunner\nssdbm3.chk" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nssckbi.dll" Directory="XULRUNNER" Guid="*">
        <File Id="nssckbi.dll" Source="Source\xulrunner\nssckbi.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nss3.dll" Directory="XULRUNNER" Guid="*">
        <File Id="nss3.dll" Source="Source\xulrunner\nss3.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="msvcr100.dll" Directory="XULRUNNER" Guid="*">
        <File Id="msvcr100.dll" Source="Source\xulrunner\msvcr100.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="msvcp100.dll" Directory="XULRUNNER" Guid="*">
        <File Id="msvcp100.dll" Source="Source\xulrunner\msvcp100.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mozjs.dll" Directory="XULRUNNER" Guid="*">
        <File Id="mozjs.dll" Source="Source\xulrunner\mozjs.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mozglue.dll" Directory="XULRUNNER" Guid="*">
        <File Id="mozglue.dll" Source="Source\xulrunner\mozglue.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mozalloc.dll" Directory="XULRUNNER" Guid="*">
        <File Id="mozalloc.dll" Source="Source\xulrunner\mozalloc.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="LICENSE" Directory="XULRUNNER" Guid="*">
        <File Id="LICENSE" Source="Source\xulrunner\LICENSE" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="libGLESv2.dll" Directory="XULRUNNER" Guid="*">
        <File Id="libGLESv2.dll" Source="Source\xulrunner\libGLESv2.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="libEGL.dll" Directory="XULRUNNER" Guid="*">
        <File Id="libEGL.dll" Source="Source\xulrunner\libEGL.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="js_gdb.py" Directory="XULRUNNER" Guid="*">
        <File Id="js_gdb.py" Source="Source\xulrunner\js-gdb.py" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="js.exe" Directory="XULRUNNER" Guid="*">
        <File Id="js.exe" Source="Source\xulrunner\js.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="IA2Marshal.dll" Directory="XULRUNNER" Guid="*">
        <File Id="IA2Marshal.dll" Source="Source\xulrunner\IA2Marshal.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="gkmedias.dll" Directory="XULRUNNER" Guid="*">
        <File Id="gkmedias.dll" Source="Source\xulrunner\gkmedias.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="freebl3.dll" Directory="XULRUNNER" Guid="*">
        <File Id="freebl3.dll" Source="Source\xulrunner\freebl3.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="freebl3.chk" Directory="XULRUNNER" Guid="*">
        <File Id="freebl3.chk" Source="Source\xulrunner\freebl3.chk" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="dependentlibs.list" Directory="XULRUNNER" Guid="*">
        <File Id="dependentlibs.list" Source="Source\xulrunner\dependentlibs.list" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="D3DCompiler_43.dll" Directory="XULRUNNER" Guid="*">
        <File Id="D3DCompiler_43.dll" Source="Source\xulrunner\D3DCompiler_43.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="crashreporter.ini" Directory="XULRUNNER" Guid="*">
        <File Id="crashreporter.ini" Source="Source\xulrunner\crashreporter.ini" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="crashreporter.exe" Directory="XULRUNNER" Guid="*">
        <File Id="crashreporter.exe" Source="Source\xulrunner\crashreporter.exe" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="breakpadinjector.dll" Directory="XULRUNNER" Guid="*">
        <File Id="breakpadinjector.dll" Source="Source\xulrunner\breakpadinjector.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="AccessibleMarshal.dll" Directory="XULRUNNER" Guid="*">
        <File Id="AccessibleMarshal.dll" Source="Source\xulrunner\AccessibleMarshal.dll" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--xulrunner\dictionaries folder-->
      <Component Id="en_US.dic" Directory="DICTIONARIES" Guid="*">
        <File Id="en_US.dic" Source="Source\xulrunner\dictionaries\en-US.dic" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="en_US.aff" Directory="DICTIONARIES" Guid="*">
        <File Id="en_US.aff" Source="Source\xulrunner\dictionaries\en-US.aff" KeyPath="yes" Checksum="yes"/>
      </Component>      
    </ComponentGroup>
  </Fragment>

  <!--Listing the components that create the user contribuion feature-->
  <Fragment>
    <ComponentGroup Id="UserContrib">
      <!--debian folder-->
      <Component Id="watch" Directory="DEBIAN" Guid="*">
        <File Id="watch" Source="Source\debian\watch" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="rules" Directory="DEBIAN" Guid="*">
        <File Id="rules" Source="Source\debian\rules" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="README.source" Directory="DEBIAN" Guid="*">
        <File Id="README.source" Source="Source\debian\README.source" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="README.Debian" Directory="DEBIAN" Guid="*">
        <File Id="README.Debian" Source="Source\debian\README.Debian" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="MPL" Directory="DEBIAN" Guid="*">
        <File Id="MPL" Source="Source\debian\MPL" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="CREDITS.Debian" Directory="DEBIAN" Guid="*">
        <File Id="CREDITS.Debian" Source="Source\debian\CREDITS.Debian" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="copyright" Directory="DEBIAN" Guid="*">
        <File Id="copyright" Source="Source\debian\copyright" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="control" Directory="DEBIAN" Guid="*">
        <File Id="control" Source="Source\debian\control" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror_spawn_process_helper.links" Directory="DEBIAN" Guid="*">
        <File Id="conkeror_spawn_process_helper.links" Source="Source\debian\conkeror-spawn-process-helper.links" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror_spawn_process_helper.install" Directory="DEBIAN" Guid="*">
        <File Id="conkeror_spawn_process_helper.install" Source="Source\debian\conkeror-spawn-process-helper.install" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror_spawn_process_helper.docs" Directory="DEBIAN" Guid="*">
        <File Id="conkeror_spawn_process_helper.docs" Source="Source\debian\conkeror-spawn-process-helper.docs" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror_spawn_process_helper.dirs" Directory="DEBIAN" Guid="*">
        <File Id="conkeror_spawn_process_helper.dirs" Source="Source\debian\conkeror-spawn-process-helper.dirs" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.prerm" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.prerm" Source="Source\debian\conkeror.prerm" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.postinst" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.postinst" Source="Source\debian\conkeror.postinst" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.NEWS" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.NEWS" Source="Source\debian\conkeror.NEWS" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.menu" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.menu" Source="Source\debian\conkeror.menu" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.manpages" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.manpages" Source="Source\debian\conkeror.manpages" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.lintian_overrides" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.lintian_overrides" Source="Source\debian\conkeror.lintian-overrides" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.install" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.install" Source="Source\debian\conkeror.install" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.docs" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.docs" Source="Source\debian\conkeror.docs" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.dirs" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.dirs" Source="Source\debian\conkeror.dirs" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.desktop" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.desktop" Source="Source\debian\conkeror.desktop" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conkeror.bug_script" Directory="DEBIAN" Guid="*">
        <File Id="conkeror.bug_script" Source="Source\debian\conkeror.bug-script" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="compat" Directory="DEBIAN" Guid="*">
        <File Id="compat" Source="Source\debian\compat" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="changelog" Directory="DEBIAN" Guid="*">
        <File Id="changelog" Source="Source\debian\changelog" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--debian\source folder-->
      <Component Id="format" Directory="SOURCE" Guid="*">
        <File Id="format" Source="Source\debian\source\format" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--debian\patches folder-->
      <Component Id="series" Directory="PATCHES" Guid="*">
        <File Id="series" Source="Source\debian\patches\series" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="sensible_editor_xdg_open.diff" Directory="PATCHES" Guid="*">
        <File Id="sensible_editor_xdg_open.diff" Source="Source\debian\patches\sensible-editor-xdg-open.diff" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="deb_webjumps.diff" Directory="PATCHES" Guid="*">
        <File Id="deb_webjumps.diff" Source="Source\debian\patches\deb-webjumps.diff" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--debian\bin folder-->
      <Component Id="conkeror" Directory="BIN" Guid="*">
        <File Id="conkeror" Source="Source\debian\bin\conkeror" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib folder-->
      <Component Id="testrun.sh" Directory="CONTRIB" Guid="*">
        <File Id="testrun.sh" Source="Source\contrib\testrun.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="run_conkeror" Directory="CONTRIB" Guid="*">
        <File Id="run_conkeror" Source="Source\contrib\run-conkeror" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="mketags.sh" Directory="CONTRIB" Guid="*">
        <File Id="mketags.sh" Source="Source\contrib\mketags.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="list_xulrunner_versions" Directory="CONTRIB" Guid="*">
        <File Id="list_xulrunner_versions" Source="Source\contrib\list-xulrunner-versions" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="install.sh" Directory="CONTRIB" Guid="*">
        <File Id="install.sh" Source="Source\contrib\install.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="build.sh" Directory="CONTRIB" Guid="*">
        <File Id="build.sh" Source="Source\contrib\build.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\xrev folder-->
      <Component Id="chrome.manifest3" Directory="XREV" Guid="*">
        <File Id="chrome.manifest3" Source="Source\contrib\xrev\chrome.manifest" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="application.ini2" Directory="XREV" Guid="*">
        <File Id="application.ini2" Source="Source\contrib\xrev\application.ini" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\xrev\defaults\preferences folder-->
      <Component Id="prefs.js2" Directory="PREFERENCES2" Guid="*">
        <File Id="prefs.js2" Source="Source\contrib\xrev\defaults\preferences\prefs.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\xrev\content folder-->
      <Component Id="xrev.js" Directory="CONTENT3" Guid="*">
        <File Id="xrev.js" Source="Source\contrib\xrev\content\xrev.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="main.xul" Directory="CONTENT3" Guid="*">
        <File Id="main.xul" Source="Source\contrib\xrev\content\main.xul" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\xrev\chrome folder-->
      <Component Id="chrome.manifest4" Directory="CHROME2" Guid="*">
        <File Id="chrome.manifest4" Source="Source\contrib\xrev\chrome\chrome.manifest" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\Windows-installer folder-->
      <Component Id="Conkeror.wxs" Directory="WINDOWSINSTALLER" Guid="*">
        <File Id="Conkeror.wxs" Source="Source\contrib\Windows-installer\Conkeror.wxs" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="WindowsInstallerNotes.pdf" Directory="WINDOWSINSTALLER" Guid="*">
        <File Id="WindowsInstallerNotes.pdf" Source="Source\contrib\Windows-installer\WindowsInstallerNotes.pdf" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Conkeror.msi" Directory="WINDOWSINSTALLER" Guid="*">
        <File Id="Conkeror.msi" Source="Source\contrib\Windows-installer\Conkeror.msi" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\Windows-installer\conkerorrc folder-->
      <Component Id="New_tabs.js2" Directory="CONKERORRC" Guid="*">
        <File Id="New_tabs.js2" Source="Source\contrib\Windows-installer\conkerorrc\New-tabs.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Sessions.js" Directory="CONKERORRC" Guid="*">
        <File Id="Sessions.js" Source="Source\contrib\Windows-installer\conkerorrc\Sessions.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="History.js2" Directory="CONKERORRC" Guid="*">
        <File Id="History.js2" Source="Source\contrib\Windows-installer\conkerorrc\History.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="History_command.js" Directory="CONKERORRC" Guid="*">
        <File Id="History_command.js" Source="Source\contrib\Windows-installer\conkerorrc\History-command.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="History_preference.js" Directory="CONKERORRC" Guid="*">
        <File Id="History_preference.js" Source="Source\contrib\Windows-installer\conkerorrc\History-preference.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Downloads_dir.js" Directory="CONKERORRC" Guid="*">
        <File Id="Downloads_dir.js" Source="Source\contrib\Windows-installer\conkerorrc\Downloads-dir.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Download_NewBuffer.js" Directory="CONKERORRC" Guid="*">
        <File Id="Download_NewBuffer.js" Source="Source\contrib\Windows-installer\conkerorrc\Download-NewBuffer.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Darken_page.js" Directory="CONKERORRC" Guid="*">
        <File Id="Darken_page.js" Source="Source\contrib\Windows-installer\conkerorrc\Darken-page.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Download_ModLine.js" Directory="CONKERORRC" Guid="*">
        <File Id="Download_ModLine.js" Source="Source\contrib\Windows-installer\conkerorrc\Download-ModLine.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Favicons.js" Directory="CONKERORRC" Guid="*">
        <File Id="Favicons.js" Source="Source\contrib\Windows-installer\conkerorrc\Favicons.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="DisableClock.js" Directory="CONKERORRC" Guid="*">
        <File Id="DisableClock.js" Source="Source\contrib\Windows-installer\conkerorrc\DisableClock.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="ModeLine_Buffers_count.js" Directory="CONKERORRC" Guid="*">
        <File Id="ModeLine_Buffers_count.js" Source="Source\contrib\Windows-installer\conkerorrc\ModeLine-Buffers-count.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Loading_count.js" Directory="CONKERORRC" Guid="*">
        <File Id="Loading_count.js" Source="Source\contrib\Windows-installer\conkerorrc\Loading-count.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="Remove_scroll.js" Directory="CONKERORRC" Guid="*">
        <File Id="Remove_scroll.js" Source="Source\contrib\Windows-installer\conkerorrc\Remove-scroll.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="README" Directory="CONKERORRC" Guid="*">
        <File Id="README" Source="Source\contrib\Windows-installer\conkerorrc\README" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\modules folder-->
      <Component Id="mode_line_buttons.js" Directory="MODULES2" Guid="*">
        <File Id="mode_line_buttons.js" Source="Source\contrib\modules\mode-line-buttons.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\man folder-->
      <Component Id="conkeror.1" Directory="MAN" Guid="*">
        <File Id="conkeror.1" Source="Source\contrib\man\conkeror.1" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\debian folder-->
      <Component Id="update.sh" Directory="DEBIAN2" Guid="*">
        <File Id="update.sh" Source="Source\contrib\debian\update.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nightlybuild.sh" Directory="DEBIAN2" Guid="*">
        <File Id="nightlybuild.sh" Source="Source\contrib\debian\nightlybuild.sh" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\config folder-->
      <Component Id="common.js" Directory="CONFIG" Guid="*">
        <File Id="common.js" Source="Source\contrib\config\common.js" KeyPath="yes" Checksum="yes"/>
      </Component>
      <!--contrib\art folder-->
      <Component Id="outline.svg" Directory="ART" Guid="*">
        <File Id="outline.svg" Source="Source\contrib\art\outline.svg" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="nut.svg" Directory="ART" Guid="*">
        <File Id="nut.svg" Source="Source\contrib\art\nut.svg" KeyPath="yes" Checksum="yes"/>
      </Component>
      <Component Id="conker.svg" Directory="ART" Guid="*">
        <File Id="conker.svg" Source="Source\contrib\art\conker.svg" KeyPath="yes" Checksum="yes"/>
      </Component>
    </ComponentGroup>
  </Fragment>
  
  <!--Listing the components that make up the .conkerorrc feature-->
  <Fragment>
    <!--.conkerorrc folder-->
    <Component Id="New_tabs" Directory="_CONKERORRC" Guid="*">
      <File Id="New_tabs" Source="Source\contrib\Windows-installer\conkerorrc\New-tabs.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Sessions" Directory="_CONKERORRC" Guid="*">
      <File Id="Sessions" Source="Source\contrib\Windows-installer\conkerorrc\Sessions.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="History" Directory="_CONKERORRC" Guid="*">
      <File Id="History" Source="Source\contrib\Windows-installer\conkerorrc\History.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="History_command" Directory="_CONKERORRC" Guid="*">
      <File Id="History_command" Source="Source\contrib\Windows-installer\conkerorrc\History-command.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="History_clearing_preference" Directory="_CONKERORRC" Guid="*">
      <File Id="History_clearing_preference" Source="Source\contrib\Windows-installer\conkerorrc\History-preference.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Downloads_dir" Directory="_CONKERORRC" Guid="*">
      <File Id="Downloads_dir" Source="Source\contrib\Windows-installer\conkerorrc\Downloads-dir.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Download_NewBuffer" Directory="_CONKERORRC" Guid="*">
      <File Id="Download_NewBuffer" Source="Source\contrib\Windows-installer\conkerorrc\Download-NewBuffer.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Darken_page" Directory="_CONKERORRC" Guid="*">
      <File Id="Darken_page" Source="Source\contrib\Windows-installer\conkerorrc\Darken-page.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Download_ModLine" Directory="_CONKERORRC" Guid="*">
      <File Id="Download_ModLine" Source="Source\contrib\Windows-installer\conkerorrc\Download-ModLine.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Favicons" Directory="_CONKERORRC" Guid="*">
      <File Id="Favicons" Source="Source\contrib\Windows-installer\conkerorrc\Favicons.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="DisableClock" Directory="_CONKERORRC" Guid="*">
      <File Id="DisableClock" Source="Source\contrib\Windows-installer\conkerorrc\DisableClock.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="ModeLine_Buffers_count" Directory="_CONKERORRC" Guid="*">
      <File Id="ModeLine_Buffers_count" Source="Source\contrib\Windows-installer\conkerorrc\ModeLine-Buffers-count.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Loading_count" Directory="_CONKERORRC" Guid="*">
      <File Id="Loading_count" Source="Source\contrib\Windows-installer\conkerorrc\Loading-count.js" KeyPath="yes" Checksum="yes"/>
    </Component>
    <Component Id="Remove_scroll" Directory="_CONKERORRC" Guid="*">
      <File Id="Remove_scroll" Source="Source\contrib\Windows-installer\conkerorrc\Remove-scroll.js" KeyPath="yes" Checksum="yes"/>
    </Component>
  </Fragment>
  
  <!--Creating shortcuts-->
  <Fragment>
    <DirectoryRef Id="ApplicationProgramsFolder">
      <Component Id="StartMenuShortcut" Guid="*">
        <Condition>INSTALLSHORTCUTS</Condition>
        <Shortcut Id="ApplicationStartMenuShortcut"
                  Name="Conkeror"
                  Description="Conkeror is a keyboard-oriented, highly-customizable, highly-extensible web browser based on Mozilla XULRunner."
                  Target="[INSTALLFOLDER]conkeror.exe"
                  WorkingDirectory="INSTALLFOLDER"/>
        <RemoveFolder Id="ApplicationProgramsFolder" On="uninstall"/>
        <RegistryValue Root="HKCU" Key="Software\Microsoft\Conkeror" Name="installed" Type="integer" Value="1" KeyPath="yes"/>
      </Component>
    </DirectoryRef>
    <DirectoryRef Id="DesktopFolder">
      <Component Id="DesktopShortcut" Guid="{33BC2DD4-73FF-41f8-A83D-250AB6FB244C}">
        <Condition>INSTALLSHORTCUTS</Condition>
        <Shortcut Id="DesktopFolderShortcut"
                  Name="Conkeror"
                  Description="Conkeror is a keyboard-oriented, highly-customizable, highly-extensible web browser based on Mozilla XULRunner."
                  Target="[INSTALLFOLDER]conkeror.exe"
                  WorkingDirectory="INSTALLFOLDER"/>
        <RemoveFile Id="DesktopFolderShortcut" Name="DesktopConkeror" On="uninstall"/>
        <RegistryValue Root="HKCU" Key="Software\Microsoft\Conkeror" Name="installed" Type="integer" Value="1" KeyPath="yes"/>
      </Component>
    </DirectoryRef>
  </Fragment>
</Wix>